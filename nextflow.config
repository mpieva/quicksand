manifest {
    homePage = 'https://vcs.eva.mpg.de/visagie/sediment_nf'
    description = 'Sediment pipeline'
    nextflowVersion = '>=20.04'
}

params.bam            = ''
params.rg             = ''
params.db             = '/mnt/sequencedb/Refseq/refseq_rel202/kraken/Mito_db_kmer22'
params.genome         = '/mnt/sequencedb/Refseq/refseq_rel202/genomes'
params.bedfiles       = '/mnt/sequencedb/Refseq/refseq_rel202/masked'
params.specmap        = '/mnt/sequencedb/Refseq/refseq_rel202/genomes/specmap.tsv'

params.cutoff         = 35
params.quality        = 25
params.bwacutoff      = 0
params.keeppaired     = false  // keep paired reads
params.filterunmapped = false  // filter out unmapped
params.krakenfilter   = false  // a kraken-filter step with the given weight
params.level          = 0      // bgzf compression level for intermediate files, 0..9
params.krakenthreads  = 4      // number of threads per kraken process

params.bwa            = '/home/public/usr/bin/bwa'
params.bamrmdup       = '/home/bioinf/usr/bin/bam-rmdup'
params.help           = false


trace {
    enabled = true
    file = 'reports/trace.tsv'
}

timeline {
    enabled = true
    file = 'reports/timeline.html'
}

report {
    enabled = true
    file = 'reports/report.html'
}

executor {
    name = 'sge'
    queueSize = 250
    pollInterval = '30 sec'
}

profiles {

    standard {
        process {
            executor = 'local'
            errorStrategy = 'retry'
            maxRetries = 5
        }
    }

    cluster {
        process {
            withLabel: '!local' {
                executor = 'sge'
                penv = 'smp'
                queue = 'all.q'
                errorStrategy = 'retry'
                maxRetries = 5
                clusterOptions = '-m n'
            }
            withLabel: local {
                executor = 'local'
                errorStrategy = 'retry'
                maxRetries = 3
            }
        }
    }

}
workDir = '/tmp/nextflow_work'
